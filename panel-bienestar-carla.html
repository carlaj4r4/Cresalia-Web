<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üíú Tu Espacio de Bienestar</title>
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="icon" type="image/png" href="assets/logo/logo-cresalia.png">
    <link rel="apple-touch-icon" href="assets/logo/logo-cresalia.png">
    <link rel="stylesheet" href="css/panel-bienestar-carla.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Sistema de Seguridad para Paneles Admin -->
    <script src="js/seguridad-paneles-admin.js"></script>
    <script src="js/seguridad-validacion-entrada.js"></script>
    
    <script>
        // Verificar acceso antes de mostrar contenido
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof window.seguridadAdmin !== 'undefined') {
                if (!window.seguridadAdmin.verificarAutenticacion()) {
                    // Redirigir a login si no est√° autenticado
                    alert('‚ö†Ô∏è Acceso no autorizado. Redirigiendo...');
                    window.location.href = 'admin-cresalia.html';
                }
            } else {
                // Si el sistema de seguridad no est√° disponible, verificar sesi√≥n manualmente
                const sessionData = localStorage.getItem('adminSession');
                if (!sessionData) {
                    alert('‚ö†Ô∏è Acceso no autorizado. Redirigiendo...');
                    window.location.href = 'admin-cresalia.html';
                }
            }
        });
    </script>
</head>
<body>
    <div class="container-bienestar">
        <!-- Header -->
        <header class="header-bienestar">
            <div class="header-content">
                <h1><i class="fas fa-heart"></i> <span id="nombreUsuario">Tu</span> Espacio de Bienestar</h1>
                <p class="subtitle">Un lugar seguro solo para vos, para cuidarte y protegerte</p>
            </div>
        </header>

        <!-- Panel Principal -->
        <main class="main-content">
            <!-- Estado Actual -->
            <section class="seccion-estado" id="seccionEstado">
                <div class="card-estado">
                    <h2><i class="fas fa-heartbeat"></i> ¬øC√≥mo te sent√≠s ahora?</h2>
                    <div class="emociones-grid">
                        <button class="emocion-btn" data-emocion="bien" data-nivel="1">
                            <i class="fas fa-smile"></i>
                            <span>Bien</span>
                        </button>
                        <button class="emocion-btn" data-emocion="regular" data-nivel="2">
                            <i class="fas fa-meh"></i>
                            <span>Regular</span>
                        </button>
                        <button class="emocion-btn" data-emocion="ansiosa" data-nivel="3">
                            <i class="fas fa-exclamation-circle"></i>
                            <span>Ansiosa</span>
                        </button>
                        <button class="emocion-btn" data-emocion="triste" data-nivel="4">
                            <i class="fas fa-sad-tear"></i>
                            <span>Triste</span>
                        </button>
                        <button class="emocion-btn" data-emocion="sobrepasada" data-nivel="5">
                            <i class="fas fa-exclamation-triangle"></i>
                            <span>Sobrepasada</span>
                        </button>
                        <button class="emocion-btn" data-emocion="estresada" data-nivel="5">
                            <i class="fas fa-heartbeat"></i>
                            <span>Estresada</span>
                        </button>
                    </div>
                </div>
            </section>

            <!-- Alertas de Estr√©s (SOP) -->
            <section class="seccion-alerta-estres" id="seccionAlertaEstres" style="display: none;">
                <div class="alerta-critica">
                    <div class="alerta-icono">
                        <i class="fas fa-heartbeat"></i>
                    </div>
                    <div class="alerta-contenido">
                        <h3>‚ö†Ô∏è Alerta de Estr√©s</h3>
                        <p>Record√° que el estr√©s puede empeorar el SOP y aumentar el riesgo cardiovascular. Es momento de parar y cuidarte.</p>
                        <div class="alerta-acciones">
                            <button class="btn-respiracion" onclick="iniciarRespiracion()">
                                <i class="fas fa-wind"></i> Respiraci√≥n Guiada
                            </button>
                            <button class="btn-pausa" onclick="tomarPausa()">
                                <i class="fas fa-pause"></i> Tomar Pausa
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Recursos R√°pidos -->
            <section class="seccion-recursos">
                <h2><i class="fas fa-compass"></i> Recursos R√°pidos</h2>
                <div class="recursos-grid">
                    <div class="recurso-card" onclick="abrirRespiracion()">
                        <div class="recurso-icono">
                            <i class="fas fa-wind"></i>
                        </div>
                        <h3>Respiraci√≥n</h3>
                        <p>Reduce ansiedad y estr√©s</p>
                    </div>
                    <div class="recurso-card" onclick="abrirL√≠mites()">
                        <div class="recurso-icono">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <h3>Recordatorios de L√≠mites</h3>
                        <p>No pod√©s ayudar a todos</p>
                    </div>
                    <div class="recurso-card" onclick="abrirAutocuidado()">
                        <div class="recurso-icono">
                            <i class="fas fa-spa"></i>
                        </div>
                        <h3>Autocuidado</h3>
                        <p>Vos tambi√©n import√°s</p>
                    </div>
                    <div class="recurso-card" onclick="abrirDiario()">
                        <div class="recurso-icono">
                            <i class="fas fa-book"></i>
                        </div>
                        <h3>Diario Emocional</h3>
                        <p>Escrib√≠ lo que sent√≠s</p>
                    </div>
                </div>
            </section>

            <!-- Historial de Estados -->
            <section class="seccion-historial">
                <h2><i class="fas fa-chart-line"></i> Tu Historial</h2>
                <div class="historial-container" id="historialContainer">
                    <p class="sin-datos">A√∫n no hay registros. Empez√° registrando c√≥mo te sent√≠s.</p>
                </div>
            </section>
        </main>
    </div>

    <!-- Modales -->
    <div id="modalRespiracion" class="modal" style="display: none;">
        <div class="modal-content">
            <span class="close-modal" onclick="cerrarModal('modalRespiracion')">&times;</span>
            <h2><i class="fas fa-wind"></i> Respiraci√≥n Guiada</h2>
            <div class="respiracion-container">
                <div class="circulo-respiracion" id="circuloRespiracion">
                    <div class="circulo-interno"></div>
                </div>
                <div class="instrucciones-respiracion" id="instruccionesRespiracion">
                    <p>Inhal√° por la nariz durante 4 segundos</p>
                </div>
                <div class="contador-respiracion" id="contadorRespiracion">4</div>
                <button class="btn-iniciar-respiracion" onclick="iniciarRespiracionCompleta()">
                    <i class="fas fa-play"></i> Iniciar
                </button>
            </div>
        </div>
    </div>

    <div id="modalLimites" class="modal" style="display: none;">
        <div class="modal-content">
            <span class="close-modal" onclick="cerrarModal('modalLimites')">&times;</span>
            <h2><i class="fas fa-shield-alt"></i> Recordatorios de L√≠mites</h2>
            <div class="limites-contenido">
                <div class="recordatorio-card">
                    <i class="fas fa-heart"></i>
                    <h3>No pod√©s ayudar a todos</h3>
                    <p>Y est√° bien. Tu empat√≠a es un don, pero tambi√©n necesit√°s protegerte. No sos responsable de solucionar todos los problemas del mundo.</p>
                </div>
                <div class="recordatorio-card">
                    <i class="fas fa-book-open"></i>
                    <h3>Las historias tristes pueden esperar</h3>
                    <p>Si le√©s algo que te afecta mucho, pod√©s cerrarlo. No ten√©s que leer todo. Tu bienestar es m√°s importante.</p>
                </div>
                <div class="recordatorio-card">
                    <i class="fas fa-hand-paper"></i>
                    <h3>Decir "no" es v√°lido</h3>
                    <p>Establecer l√≠mites no te hace mala persona. Te hace una persona que se cuida y se respeta a s√≠ misma.</p>
                </div>
                <div class="recordatorio-card">
                    <i class="fas fa-clock"></i>
                    <h3>Tom√° pausas</h3>
                    <p>Cuando te sent√≠s sobrepasada, parar no es rendirse. Es cuidarte. Y eso es lo m√°s importante ahora.</p>
                </div>
            </div>
        </div>
    </div>

    <div id="modalAutocuidado" class="modal" style="display: none;">
        <div class="modal-content">
            <span class="close-modal" onclick="cerrarModal('modalAutocuidado')">&times;</span>
            <h2><i class="fas fa-spa"></i> Autocuidado</h2>
            <div class="autocuidado-contenido">
                <div class="sugerencia-card">
                    <i class="fas fa-heartbeat"></i>
                    <h3>Record√°: El estr√©s y el SOP</h3>
                    <p>El estr√©s puede empeorar el SOP y aumentar el riesgo cardiovascular. Cada vez que te sent√≠s estresada, es una se√±al de tu cuerpo para que te cuides.</p>
                </div>
                <div class="sugerencia-card">
                    <i class="fas fa-bed"></i>
                    <h3>Descanso es medicina</h3>
                    <p>Tu cuerpo necesita descansar. No es pereza, es necesidad. El descanso ayuda a regular las hormonas y reducir el estr√©s.</p>
                </div>
                <div class="sugerencia-card">
                    <i class="fas fa-utensils"></i>
                    <h3>Alimentaci√≥n consciente</h3>
                    <p>Con SOP, la alimentaci√≥n es importante. Intent√° comer regularmente, aunque sea algo peque√±o. Tu cuerpo lo necesita.</p>
                </div>
                <div class="sugerencia-card">
                    <i class="fas fa-user-md"></i>
                    <h3>Busc√° ayuda m√©dica</h3>
                    <p>Est√°s buscando hospitales p√∫blicos. Eso est√° bien. No est√°s sola en esto. Muchas mujeres con SOP logran tratarse y mejorar.</p>
                </div>
            </div>
        </div>
    </div>

    <div id="modalDiario" class="modal" style="display: none;">
        <div class="modal-content">
            <span class="close-modal" onclick="cerrarModal('modalDiario')">&times;</span>
            <h2><i class="fas fa-book"></i> Diario Emocional</h2>
            <div class="diario-contenido">
                <textarea id="entradaDiario" placeholder="Escrib√≠ lo que sent√≠s, lo que te preocupa, lo que necesit√°s... Este es tu espacio seguro."></textarea>
                <button class="btn-guardar-diario" onclick="guardarEntradaDiario()">
                    <i class="fas fa-save"></i> Guardar
                </button>
                <div class="entradas-previas" id="entradasPrevias"></div>
            </div>
        </div>
    </div>

    <script src="js/panel-bienestar-carla.js"></script>
</body>
</html>

